<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Zıplama Antrenman Takvimi</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f6f6f6;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      max-width: 1000px;
      margin: 0 auto;
    }
    .day {
      background-color: #fff;
      padding: 5px;
      min-height: 80px;
      border-radius: 6px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      font-size: 12px;
    }
    .day.completed {
      background-color: #b2f2bb;
    }
    .day.incomplete {
      background-color: #ffa8a8;
    }
    .day.inprogress {
      background-color: #ffe066;
    }
    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      max-width: 400px;
      display: none;
    }
    .popup h2 {
      margin-top: 0;
    }
    .close-btn {
      background: crimson;
      color: white;
      border: none;
      padding: 5px 10px;
      float: right;
      border-radius: 5px;
      cursor: pointer;
    }
    .checkboxes label {
      display: block;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
<h1>Zıplama Antrenman Takvimi</h1>
<div class="calendar" id="calendar"></div>
<div class="popup" id="popup">
  <button class="close-btn" onclick="closePopup()">Kapat</button>
  <h2 id="popupDate"></h2>
  <form id="form">
    <div class="checkboxes" id="checkboxes"></div>
  </form>
</div>
<script>
const program = {
  "2025-07-15": ["Barfiks", "Dumbbell Row", "Plank"],
  "2025-07-16": ["Bulgarian Split Squat", "Jump Squat", "Calf Raise", "Bench Press", "Incline Dumbbell Press"],
  "2025-07-17": ["Dumbbell Bench Press", "Lateral Raise", "Push-up"],
  "2025-07-18": ["Barbell Deadlift", "Hip Thrust", "Jumping Lunges"],
  "2025-07-19": ["Overhead Press", "Front Raise", "Side Plank"],
  "2025-07-20": ["Box Jump", "Single Leg Jump", "Wall Sit"],
  "2025-07-21": ["İstirahat / Aktif Dinlenme"]
};
const today = new Date().toISOString().split('T')[0];
const calendar = document.getElementById("calendar");
const popup = document.getElementById("popup");
const popupDate = document.getElementById("popupDate");
const checkboxesDiv = document.getElementById("checkboxes");

for (let i = 1; i <= 31; i++) {
  const date = `2025-07-${i.toString().padStart(2, '0')}`;
  const div = document.createElement("div");
  div.classList.add("day");
  div.textContent = `${i} Temmuz`;
  if (program[date]) {
    const done = localStorage.getItem(date + "_done") || "[]";
    const completed = JSON.parse(done);
    if (completed.length === program[date].length) {
      div.classList.add("completed");
    } else if (completed.length > 0) {
      div.classList.add("inprogress");
    } else {
      div.classList.add("incomplete");
    }
  }
  if (program[date]) {
    div.onclick = () => {
      if (date !== today) return;
      popup.style.display = "block";
      popupDate.textContent = `${date} Antrenmanı`;
      checkboxesDiv.innerHTML = "";
      const done = JSON.parse(localStorage.getItem(date + "_done") || "[]");
      program[date].forEach((item, idx) => {
        const label = document.createElement("label");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = done.includes(idx);
        checkbox.onchange = () => {
          if (checkbox.checked) {
            done.push(idx);
          } else {
            const index = done.indexOf(idx);
            if (index > -1) done.splice(index, 1);
          }
          localStorage.setItem(date + "_done", JSON.stringify(done));
          location.reload();
        };
        label.appendChild(checkbox);
        label.append(" " + item);
        checkboxesDiv.appendChild(label);
      });
    };
  }
  calendar.appendChild(div);
}
function closePopup() {
  popup.style.display = "none";
}
</script>
</body>
</html>
